<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Mobile Phone Dashboard</title>
	</head>
	
	<body>
		<input type="button" value="Enable Orientation Access" onclick=enableOrientation()></input>
		<h2 id="lat">0</h2>
		<h2 id="lon">0</h2>
		<h2 id="alpha">0</h2>
		<h2 id="beta">0</h2>
		<h2 id="gamma">0</h2>
		
		<script>
			
			if (navigator.geolocation) {
				console.log("Success");
				navigator.geolocation.watchPosition(success);
			}
			
			//navigator.geolocation.getCurrentPosition(success);
			
			//if (navigator.geolocation) {
			//	navigator.geolocation.watchPosition(success);
			//}

			function success(position) {
				console.log('Latitude: ' + position.coords.latitude);
				console.log('Longitude: ' + position.coords.longitude);
				//document.getElementById("lat").innerHTML = position.coords.latitude;
				//document.getElementById("lon").innerHTML = position.coords.longitude;
			}
			
			function enableOrientation () {
				DeviceOrientationEvent.requestPermission().then(response => {
					if (response == "granted") {
						window.addEventListener("deviceorientation", (event) => {
							document.getElementById("alpha").innerHTML = Math.round(event.alpha);
							document.getElementById("beta").innerHTML = Math.round(event.beta);
							document.getElementById("gamma").innerHTML = Math.round(event.gamma);
						})
					}
				})
			}
			
			/*
			function enableMotion () {
				DeviceMotionEvent.requestPermission().then(response => {
					if (response == "granted") {
						window.addEventListener("devicemotion", (event) => {
							
						})
					}
				})
			}
			*/
			
			/*
			if(window.DeviceOrientationEvent) {
				document.getElementById("connection").innerHTML = "TRUE";
				window.addEventListener("deviceorientation", handleOrientation, true);
			} else {
				document.getElementById("connection").innerHTML = "FALSE";
			}
			
			function handleOrientation(event) {
			  	var absolute = event.absolute;
			  	var alpha    = event.alpha;
			  	var beta     = event.beta;
			  	var gamma    = event.gamma;
				console.log("Absolute:" + absolute);
				console.log("Alpha:" + alpha);
				console.log("Beta:" + beta);
				console.log("Gamma:" + gamma);
				document.getElementById("absolute").innerHTML = absolute;
				document.getElementById("alpha").innerHTML = alpha;
				document.getElementById("beta").innerHTML = beta;
				document.getElementById("gamma").innerHTML = gamma;
			}
			*/
		</script>
	</body>

</html>
